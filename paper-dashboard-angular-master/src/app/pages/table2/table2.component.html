<div class="row">
   <div class="col-md-12">
    <div class="card">
      <div class="card-header">
        <h4 class="card-title"></h4>
       
        <p class="card-category" style="text-align: right;" > <button type="button" (click)="openModal(A)"  class="btn btn-danger btn-rounded">Add</button></p>
      </div>
      <div class="card-body">
        <div class="table-responsive">
          <table class="table">
            <thead class=" text-primary">
              <th>
                รหัสอุปกรณ์
              </th>
              <th>
                ชื่อผู้ใช้
              </th>
              <th>
                รหัสประจำตัวผู้ใช้
              </th>
              <th>
                สถานะ
              </th>
              <th class="text-right">
                แก้ไขอุปกรณ์
              </th>
              <th class="text-right">
                ลบ
              </th>
            </thead>
            <tbody>
              <tr *ngFor="let a  of data; let i = index">
               <td>{{data[i].scId}}</td>
               <td>{{data[i].name+" "+data[i].surname}}</td>
               <td>{{data[i].uId}}</td>
               <td [ngStyle]="{'color': b[i]=='ว่าง' ? 'green':'red'}">{{b[i]}}</td>
               <td class="text-right"><i class="nc-icon nc-settings-gear-65" type="button" (click)="editEquip(data[i]);openModal(B)"></i></td>
               <td class="text-right"><i class="nc-icon nc-box" type="button" (click)="delEquipment(data[i])"></i></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  
  

<ng-template #A>
  <div class="modal-content">
      <div class="modal-header">
          <h4 class="modal-title text-center">เพิ่มอุปกรณ์</h4>
      </div>
      <div class="modal-body">
        <!-- <form (ngSubmit)="AddEquipment(equipmentForm)" #equipmentForm="ngForm">
          <label for="scId">รหัสอุปกรณ์</label><input type="text" name="scId" ngModel>
          <label for="uId">รหัสผู้ใช้</label> <input type="text" name="uId" ngModel>
          <label for="status">สถานะ</label><input type="text" name="status" value="ว่าง" ngModel>
        <button type="submit" class="btn btn-default" (click)="confirm()">เพิ่ม</button>
        </form> -->

        <div class="row"> 
 
    
          <div class="col-md-8">
            <div class="card card-user">
              <div class="card-body">
                <form (ngSubmit)="AddEquipment(equipmentForm)" #equipmentForm="ngForm">
                  <div class="row">
                    <div class="col-md-6 pr-1">
                      <div class="form-group">
                        <label>รหัสอุปกรณ์</label>
                        <input type="text" class="form-control" name="name" placeholder="SC***" value="scId" name="scId" ngModel>
                      </div>
                    </div>
                    <div class="col-md-6 pl-1">
                      <div class="form-group">
                        <label>ชื่อผู้ใช้</label>
                        <select  class="form-control"  id = "selectedUser" placeholder="" name="selectedUser" ngModel>
                          <option *ngFor="let item of User"[ngValue] = "item.uId">
                            {{item.name+"  "+item.surname}}
                          </option>    
                          </select>
                      </div>
                    </div>
                  </div>
               
                  <div class="row">
                    <div class="update ml-auto mr-auto">
                      <button type="submit" class="btn btn-primary btn-round" (click)="confirm()">เพิ่มอุปกรณ์</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="modal-footer">                                        
         
      </div> -->
  </div>
</ng-template > 


<ng-template #B>
  <div class="modal-content">
      <div class="modal-header">
          <h4 class="modal-title text-center">แก้ไขอุปกรณ์</h4>
      </div>
      <div class="modal-body">
        <!-- <form (ngSubmit)="AddEquipment(equipmentForm)" #equipmentForm="ngForm">
          <label for="scId">รหัสอุปกรณ์</label><input type="text" name="scId" ngModel>
          <label for="uId">รหัสผู้ใช้</label> <input type="text" name="uId" ngModel>
          <label for="status">สถานะ</label><input type="text" name="status" value="ว่าง" ngModel>
        <button type="submit" class="btn btn-default" (click)="confirm()">เพิ่ม</button>
        </form> -->

        <div class="row"> 
 
    
          <div class="col-md-8">
            <div class="card card-user">
              <div class="card-body">
                <form (ngSubmit)="editEquipS(scanners.id,equipmentForm)" #equipmentForm="ngForm">
                  <div class="row">
                    <div class="col-md-6 pr-1">
                      <div class="form-group">
                        <label>รหัสอุปกรณ์</label>
                        <input type="text" class="form-control" name="name" placeholder="SC***" value="scId" name="scId" ngModel [(ngModel)]="scanners.scId">
                      </div>
                    </div>
                    <div class="col-md-6 pl-1">
                      <div class="form-group">
                        <label>ชื่อผู้ใช้</label>
                        <select  class="form-control"  placeholder="" name="selectedUser" ngModel [(ngModel)]="scanners.uId">
                          <option *ngFor="let item of User"[ngValue] = "item.uId"  id = "selectedUser">
                            {{item.name+"  "+item.surname}}                         
                          </option>    
                          <option value="">ว่าง</option>
                          </select>
                      </div>
                    </div>
                  </div>
                  <div class="row">
                    <div class="update ml-auto mr-auto">
                      <button type="submit" class="btn btn-primary btn-round" (click)="confirm()">แก้ไขอุปกรณ์</button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="modal-footer">                                        
         
      </div> -->
  </div>
</ng-template > 

